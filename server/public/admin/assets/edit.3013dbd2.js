import{X as V,G as k,v as w,w as A,B as h,u as x}from"./element-plus.a3b114e5.js";import{u as C,a as S}from"./vue-router.70b81833.js";import{b as q,c as T,d as N}from"./lists.2c5563c8.js";import R from"./base-setting.cbbb8412.js";import{_ as $}from"./index.vue_vue_type_script_setup_true_lang.0e249a79.js";import{_ as H}from"./index.9abd4cc2.js";import{d as M,r as s,o as U,c as L,V as t,M as r,u as P,a as n,T as G,W}from"./@vue.3ddec1b2.js";import"./@vueuse.b3730649.js";import"./lodash-es.32bc9704.js";import"./async-validator.fb49d0f5.js";import"./@element-plus.4237e19d.js";import"./dayjs.f21e22db.js";import"./axios.12352f85.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.70851800.js";import"./lodash.6cb7eccb.js";import"./pinia.4a4088b7.js";import"./css-color-function.dd4e654e.js";import"./color.d16e2a95.js";import"./clone.4b5fce73.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.71de6100.js";import"./vue-clipboard3.c11106c9.js";import"./clipboard.4820288f.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.d7b1dc3a.js";import"./category.0f951ca2.js";import"./unit-form.vue_vue_type_style_index_0_lang.d0595779.js";import"./index.cb61996f.js";import"./picker.680ce7f4.js";import"./index.58caa13d.js";import"./index.vue_vue_type_script_setup_true_lang.455193be.js";import"./index.6759d5ec.js";import"./index.f971bb32.js";import"./usePaging.0e69bc9a.js";import"./vue3-video-play.6dd73449.js";import"./vuedraggable.c932d9d2.js";import"./vue.f7b45964.js";import"./sortablejs.4f3af5d7.js";import"./@wangeditor.d15abcb9.js";const X={class:"xl:flex"},j={class:"detail ml-[30px]"},z=n("div",{class:"title"},"- \u670D\u52A1\u8BE6\u60C5 -",-1),I=["innerHTML"],je=M({__name:"edit",setup(J){const m=s(),_=C(),p=S(),u=_.query.id,l=s("base_setting"),o=s({name:"",remarks:"",category_id:"",goods_image:[],price:"",scribing_price:"",unit_id:"",status:0,content:"",sort:""}),g=s({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u670D\u52A1\u540D\u79F0",trigger:"blur"}],category_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u5206\u7C7B",trigger:"change"}],goods_image:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u8F6E\u64AD\u56FE",trigger:"change"}],price:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EF7\u683C",trigger:"blur"}],unit_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u5355\u4F4D",trigger:"change"}],status:[{required:!0,message:"\u8BF7\u9009\u62E9\u5546\u54C1\u72B6\u6001",trigger:"change"}]}),f=async()=>{o.value=await q({id:u})},v=async()=>{await T({...o.value}),p.back()},b=async()=>{await N({...o.value}),p.back()},F=i=>{!i||i.validate(e=>{if(!e)return l.value="base_setting",!1;u?b():v()})};return u&&f(),(i,e)=>{const B=V,d=k,c=w,E=A,y=h,D=x;return U(),L(W,null,[t(d,{shadow:"never",class:"!border-none"},{default:r(()=>[t(B,{content:P(u)?"\u7F16\u8F91\u670D\u52A1":"\u65B0\u589E\u670D\u52A1",onBack:e[0]||(e[0]=a=>i.$router.back())},null,8,["content"])]),_:1}),t(y,{ref_key:"formRef",ref:m,model:o.value,rules:g.value,"label-width":"120px",class:"demo-formData"},{default:r(()=>[t(d,{class:"!border-none",shadow:"never","body-style":"padding: 0",style:{"margin-top":"15px"}},{default:r(()=>[t(E,{modelValue:l.value,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value=a)},{default:r(()=>[t(c,{label:"\u57FA\u7840\u8BBE\u7F6E",name:"base_setting"},{default:r(()=>[t(R,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value=a)},null,8,["modelValue"])]),_:1}),t(c,{label:"\u670D\u52A1\u8BE6\u60C5",name:"service_detail"},{default:r(()=>[n("div",X,[t($,{modelValue:o.value.content,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.content=a),width:"640",height:"664"},null,8,["modelValue"]),n("div",j,[z,n("div",{class:"p-[0.6rem] break-words",innerHTML:o.value.content},null,8,I)])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),t(H,null,{default:r(()=>[t(D,{type:"primary",onClick:e[4]||(e[4]=a=>F(m.value))},{default:r(()=>[G("\u4FDD\u5B58")]),_:1})]),_:1})],64)}}});export{je as default};
